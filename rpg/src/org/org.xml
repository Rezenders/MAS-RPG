<?xml version="1.0" encoding="UTF-8"?>

<?xml-stylesheet href="http://moise.sourceforge.net/xml/os.xsl" type="text/xsl" ?>

<organisational-specification
    id="rpg"
    os-version="0.8"

    xmlns='http://moise.sourceforge.net/os'
    xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
    xsi:schemaLocation='http://moise.sourceforge.net/os
                        http://moise.sourceforge.net/xml/os.xsd' >

<structural-specification>

<role-definitions>
    <role id="master" />
    <role id="adventurer" />
    <role id="monster" />
</role-definitions>

<group-specification id="rpgGroup">
    <roles>
        <role id="master" min="0" max="1"/>
        <role id="adventurer" min="1" max="100"/>
        <role id="monster" min="0" max="100"/>
    </roles>

    <!-- <links>
       <link from="master" to="adventurer" type="authority"     scope="intra-group" bi-dir="false"/>
       <link from="master" to="monster" type="authority" scope="intra-group" bi-dir="false"/>
    </links>
    <formation-constraints>
       <compatibility from="role1" to="role2" />
    </formation-constraints> -->
</group-specification>
</structural-specification>

<functional-specification>
    <scheme id="rpgSch">
        <goal id="playRpg">
            <argument id="Id" />
            <plan operator="sequence">
                <goal id="setupTable">
                    <plan operator="sequence">
                        <goal id="create_table" />
                        <goal id="create_adventurer" />
                        <goal id="enter_adventurer" />
                        <goal id="spawn_monster" />
                    </plan>
                </goal>
                <goal id="battle">
                    <plan operator="parallel">
                        <goal id="battle_monsters"/>
                        <goal id="battle_adventurers"/>
                    </plan>
                </goal>
            </plan>
        </goal>

        <mission id="mSetupTable" min="1" max="1">
            <goal id="create_table"/>
            <goal id="spawn_monster" />
        </mission>

        <mission id="mCreateAdventurer" min="1" max="1">
            <goal id="create_adventurer"/>
            <goal id="enter_adventurer"/>
        </mission>

        <mission id="mSlayMonsters" min="1" max="1">
            <goal id="battle_monsters"/>
        </mission>
        <mission id="mSlayAdventurers" min="0" max="1">
            <goal id="battle_adventurers"/>
        </mission>
    </scheme>
</functional-specification>

<normative-specification>
    <norm id="n1" type="obligation" role="master" mission="mSetupTable"/>
    <norm id="n2" type="obligation" role="adventurer" mission="mCreateAdventurer"/>
    <norm id="n3" type="obligation" role="adventurer" mission="mSlayMonsters"/>
    <norm id="n4" type="obligation" role="monster" mission="mSlayAdventurers"/>
</normative-specification>

</organisational-specification>
